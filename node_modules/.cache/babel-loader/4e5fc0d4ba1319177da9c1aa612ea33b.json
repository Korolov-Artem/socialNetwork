{"ast":null,"code":"import _classCallCheck from \"/Users/jestex/Documents/React/Projects/01/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jestex/Documents/React/Projects/01/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jestex/Documents/React/Projects/01/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jestex/Documents/React/Projects/01/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jestex/Documents/React/Projects/01/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/jestex/Documents/React/Projects/01/my-app/src/components/Users/UsersContainer.jsx\";\nimport { connect } from \"react-redux\";\nimport Users from \"./Users\";\nimport React from \"react\";\nimport { follow, setCurrentPage, setTotalUsersCount, setUsers, unfollow, setIsFetching, setIsFollowing, getUsers } from \"../../redux/users-reducer\";\nimport style from \"./users.module.css\";\nimport Loader from \"../../common/loader/loader\";\nimport { usersAPI } from \"../../api/api\";\nvar UsersContainer = /*#__PURE__*/function (_React$Component) {\n  _inherits(UsersContainer, _React$Component);\n  function UsersContainer() {\n    var _getPrototypeOf2;\n    var _this;\n    _classCallCheck(this, UsersContainer);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(UsersContainer)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.onPageChange = function (pageNumber) {\n      _this.props.setIsFetching(true);\n      _this.props.setCurrentPage(pageNumber);\n      usersAPI.getUsers(_this.props.currentPage, _this.props.pageSize).then(function (data) {\n        _this.props.setUsers(data.items);\n        _this.props.setIsFetching(false);\n      });\n    };\n    return _this;\n  }\n  _createClass(UsersContainer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.getUsers(this.props.currentPage, thi);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var pageCount = Math.ceil(this.props.totalCount / this.props.pageSize);\n      var pages = [];\n      for (var i = 1; i <= pageCount; i++) {\n        pages.push(i);\n      }\n      var slicedPages;\n      var curPage = this.props.currentPage;\n      if (curPage - 3 < 0) {\n        slicedPages = pages.slice(0, 5);\n      } else {\n        slicedPages = pages.slice(curPage - 3, curPage + 2);\n      }\n      return /*#__PURE__*/React.createElement(React.Fragment, null, this.props.isFetching ? /*#__PURE__*/React.createElement(Loader, {\n        className: style.loader,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 34\n        }\n      }) : null, /*#__PURE__*/React.createElement(Users, {\n        slicedPages: slicedPages,\n        onPageChange: this.onPageChange,\n        follow: this.props.follow,\n        unfollow: this.props.unfollow,\n        users: this.props.users,\n        currentPage: this.props.currentPage,\n        setIsFollowing: this.props.setIsFollowing,\n        followingProgress: this.props.followingProgress,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n  return UsersContainer;\n}(React.Component);\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    users: state.usersPage.users,\n    pageSize: state.usersPage.pageSize,\n    totalCount: state.usersPage.totalUsersCount,\n    currentPage: state.usersPage.currentPage,\n    isFetching: state.usersPage.isFetching,\n    followingProgress: state.usersPage.followingProgress\n  };\n};\nexport default connect(mapStateToProps, {\n  follow: follow,\n  unfollow: unfollow,\n  setUsers: setUsers,\n  setCurrentPage: setCurrentPage,\n  setTotalUsersCount: setTotalUsersCount,\n  setIsFetching: setIsFetching,\n  setIsFollowing: setIsFollowing,\n  getUsers: getUsers\n})(UsersContainer);","map":{"version":3,"names":["connect","Users","React","follow","setCurrentPage","setTotalUsersCount","setUsers","unfollow","setIsFetching","setIsFollowing","getUsers","style","Loader","usersAPI","UsersContainer","_React$Component","_inherits","_getPrototypeOf2","_this","_classCallCheck","_len","arguments","length","args","Array","_key","_possibleConstructorReturn","_getPrototypeOf","call","apply","concat","onPageChange","pageNumber","props","currentPage","pageSize","then","data","items","_createClass","key","value","componentDidMount","thi","render","pageCount","Math","ceil","totalCount","pages","i","push","slicedPages","curPage","slice","createElement","Fragment","isFetching","className","loader","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","users","followingProgress","Component","mapStateToProps","state","usersPage","totalUsersCount"],"sources":["/Users/jestex/Documents/React/Projects/01/my-app/src/components/Users/UsersContainer.jsx"],"sourcesContent":["import { connect } from \"react-redux\";\nimport Users from \"./Users\";\nimport React from \"react\";\nimport {\n  follow,\n  setCurrentPage,\n  setTotalUsersCount,\n  setUsers,\n  unfollow,\n  setIsFetching,\n  setIsFollowing,\n  getUsers,\n} from \"../../redux/users-reducer\";\nimport style from \"./users.module.css\";\nimport Loader from \"../../common/loader/loader\";\nimport { usersAPI } from \"../../api/api\";\n\nclass UsersContainer extends React.Component {\n  componentDidMount() {\n    this.props.getUsers(this.props.currentPage, thi);\n  }\n\n  onPageChange = (pageNumber) => {\n    this.props.setIsFetching(true);\n    this.props.setCurrentPage(pageNumber);\n\n    usersAPI\n      .getUsers(this.props.currentPage, this.props.pageSize)\n      .then((data) => {\n        this.props.setUsers(data.items);\n        this.props.setIsFetching(false);\n      });\n  };\n\n  render() {\n    let pageCount = Math.ceil(this.props.totalCount / this.props.pageSize);\n    let pages = [];\n    for (let i = 1; i <= pageCount; i++) {\n      pages.push(i);\n    }\n\n    let slicedPages;\n    let curPage = this.props.currentPage;\n    if (curPage - 3 < 0) {\n      slicedPages = pages.slice(0, 5);\n    } else {\n      slicedPages = pages.slice(curPage - 3, curPage + 2);\n    }\n\n    return (\n      <>\n        {this.props.isFetching ? <Loader className={style.loader} /> : null}\n        <Users\n          slicedPages={slicedPages}\n          onPageChange={this.onPageChange}\n          follow={this.props.follow}\n          unfollow={this.props.unfollow}\n          users={this.props.users}\n          currentPage={this.props.currentPage}\n          setIsFollowing={this.props.setIsFollowing}\n          followingProgress={this.props.followingProgress}\n        />\n      </>\n    );\n  }\n}\n\nlet mapStateToProps = (state) => {\n  return {\n    users: state.usersPage.users,\n    pageSize: state.usersPage.pageSize,\n    totalCount: state.usersPage.totalUsersCount,\n    currentPage: state.usersPage.currentPage,\n    isFetching: state.usersPage.isFetching,\n    followingProgress: state.usersPage.followingProgress,\n  };\n};\n\nexport default connect(mapStateToProps, {\n  follow,\n  unfollow,\n  setUsers,\n  setCurrentPage,\n  setTotalUsersCount,\n  setIsFetching,\n  setIsFollowing,\n  getUsers,\n})(UsersContainer);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}