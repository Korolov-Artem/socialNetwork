{"ast":null,"code":"import _classCallCheck from \"/Users/jestex/Documents/React/Projects/01/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jestex/Documents/React/Projects/01/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jestex/Documents/React/Projects/01/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jestex/Documents/React/Projects/01/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jestex/Documents/React/Projects/01/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/jestex/Documents/React/Projects/01/my-app/src/components/Users/UsersContainer.jsx\";\nimport { connect } from \"react-redux\";\nimport Users from \"./Users\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport { followAC, setCurrentPageAC, setTotalUsersCountAC, setUsersAC, unfollowAC, setIsFetchingAC } from \"../../redux/users-reducer\";\nimport loader from \"../../assets/loader.svg\";\nimport style from './users.module.css';\nvar UsersContainer = /*#__PURE__*/function (_React$Component) {\n  _inherits(UsersContainer, _React$Component);\n  function UsersContainer() {\n    var _getPrototypeOf2;\n    var _this;\n    _classCallCheck(this, UsersContainer);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(UsersContainer)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.onPageChange = function (pageNumber) {\n      _this.props.setCurrentPage(pageNumber);\n      axios.get(\"https://social-network.samuraijs.com/api/1.0/users?page=\".concat(pageNumber, \"&count=\").concat(_this.props.pageSize)).then(function (response) {\n        _this.props.setUsers(response.data.items);\n      });\n    };\n    return _this;\n  }\n  _createClass(UsersContainer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n      axios.get(\"https://social-network.samuraijs.com/api/1.0/users?page=\".concat(this.props.currentPage, \"&count=\").concat(this.props.pageSize)).then(function (response) {\n        _this2.props.setUsers(response.data.items);\n        _this2.props.setTotalUsersCount(response.data.totalCount);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var pageCount = Math.ceil(this.props.totalCount / this.props.pageSize);\n      var pages = [];\n      for (var i = 1; i <= pageCount; i++) {\n        pages.push(i);\n      }\n      var slicedPages;\n      var curPage = this.props.currentPage;\n      if (curPage - 3 < 0) {\n        slicedPages = pages.slice(0, 5);\n      } else {\n        slicedPages = pages.slice(curPage - 3, curPage + 2);\n      }\n      return /*#__PURE__*/React.createElement(React.Fragment, null, this.props.isFetching ? /*#__PURE__*/React.createElement(\"img\", {\n        className: style.loader,\n        src: loader,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 34\n        }\n      }) : null, /*#__PURE__*/React.createElement(Users, {\n        slicedPages: slicedPages,\n        onPageChange: this.onPageChange,\n        follow: this.props.follow,\n        unfollow: this.props.unfollow,\n        users: this.props.users,\n        currentPage: this.props.currentPage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n  return UsersContainer;\n}(React.Component);\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    users: state.usersPage.users,\n    pageSize: state.usersPage.pageSize,\n    totalCount: state.usersPage.totalUsersCount,\n    currentPage: state.usersPage.currentPage,\n    isFetching: state.usersPage.isFetching\n  };\n};\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    follow: function follow(userId) {\n      dispatch(followAC(userId));\n    },\n    unfollow: function unfollow(userId) {\n      dispatch(unfollowAC(userId));\n    },\n    setUsers: function setUsers(users) {\n      dispatch(setUsersAC(users));\n    },\n    setCurrentPage: function setCurrentPage(pageNumber) {\n      dispatch(setCurrentPageAC(pageNumber));\n    },\n    setTotalUsersCount: function setTotalUsersCount(totalCount) {\n      dispatch(setTotalUsersCountAC(totalCount));\n    },\n    setIsFetching: function setIsFetching(isFetching) {\n      dispatch(setIsFetchingAC(isFetching));\n    }\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(UsersContainer);","map":{"version":3,"names":["connect","Users","React","axios","followAC","setCurrentPageAC","setTotalUsersCountAC","setUsersAC","unfollowAC","setIsFetchingAC","loader","style","UsersContainer","_React$Component","_inherits","_getPrototypeOf2","_this","_classCallCheck","_len","arguments","length","args","Array","_key","_possibleConstructorReturn","_getPrototypeOf","call","apply","concat","onPageChange","pageNumber","props","setCurrentPage","get","pageSize","then","response","setUsers","data","items","_createClass","key","value","componentDidMount","_this2","currentPage","setTotalUsersCount","totalCount","render","pageCount","Math","ceil","pages","i","push","slicedPages","curPage","slice","createElement","Fragment","isFetching","className","src","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","follow","unfollow","users","Component","mapStateToProps","state","usersPage","totalUsersCount","mapDispatchToProps","dispatch","userId","setIsFetching"],"sources":["/Users/jestex/Documents/React/Projects/01/my-app/src/components/Users/UsersContainer.jsx"],"sourcesContent":["import {connect} from \"react-redux\";\nimport Users from \"./Users\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport {followAC, setCurrentPageAC, setTotalUsersCountAC, setUsersAC, unfollowAC, setIsFetchingAC} from \"../../redux/users-reducer\";\nimport loader from '../../assets/loader.svg'\nimport style from './users.module.css'\n\nclass UsersContainer extends React.Component {\n    componentDidMount() {\n      axios\n        .get(\n          `https://social-network.samuraijs.com/api/1.0/users?page=${this.props.currentPage}&count=${this.props.pageSize}`\n        )\n        .then((response) => {\n          this.props.setUsers(response.data.items);\n          this.props.setTotalUsersCount(response.data.totalCount);\n        });\n    }\n  \n    onPageChange = (pageNumber) => {\n      this.props.setCurrentPage(pageNumber);\n      axios\n        .get(\n          `https://social-network.samuraijs.com/api/1.0/users?page=${pageNumber}&count=${this.props.pageSize}`\n        )\n        .then((response) => {\n          this.props.setUsers(response.data.items);\n        });\n    };\n  \n    render() {\n      let pageCount = Math.ceil(this.props.totalCount / this.props.pageSize);\n      let pages = [];\n      for (let i = 1; i <= pageCount; i++) {\n        pages.push(i);\n      }\n  \n      let slicedPages;\n      let curPage = this.props.currentPage;\n      if (curPage - 3 < 0) {\n        slicedPages = pages.slice(0, 5);\n      } else {\n        slicedPages = pages.slice(curPage - 3, curPage + 2);\n      }\n  \n      return (\n        <>\n        {this.props.isFetching ? <img className={style.loader} src={loader}/> : null}\n        <Users\n          slicedPages={slicedPages}\n          onPageChange={this.onPageChange}\n          follow={this.props.follow}\n          unfollow={this.props.unfollow}\n          users={this.props.users}\n          currentPage={this.props.currentPage}\n        />\n        </>\n      );\n    }\n  }\n\nlet mapStateToProps = (state) => {\n    return {\n        users: state.usersPage.users,\n        pageSize: state.usersPage.pageSize,\n        totalCount: state.usersPage.totalUsersCount,\n        currentPage: state.usersPage.currentPage,\n        isFetching: state.usersPage.isFetching,\n    }\n}\n\nlet mapDispatchToProps = (dispatch) => {\n    return {\n        follow: (userId) => {\n            dispatch(followAC(userId));\n        },\n        unfollow: (userId) => {\n            dispatch(unfollowAC(userId));\n        },\n        setUsers: (users) => {\n            dispatch(setUsersAC(users));\n        },\n        setCurrentPage: (pageNumber) => {\n            dispatch(setCurrentPageAC(pageNumber))\n        },  \n        setTotalUsersCount: (totalCount) => {\n            dispatch(setTotalUsersCountAC(totalCount))\n        },\n        setIsFetching : (isFetching) => {\n            dispatch(setIsFetchingAC(isFetching))\n        }\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UsersContainer);"],"mappings":"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"},"metadata":{},"sourceType":"module"}