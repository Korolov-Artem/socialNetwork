{"ast":null,"code":"import _toConsumableArray from \"/Users/jestex/Documents/React/Projects/01/my-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _objectSpread from \"/Users/jestex/Documents/React/Projects/01/my-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { profileAPI } from \"../api/api\";\nvar ADD_POST = \"ADD-POST\";\nvar UPDATE_NEW_POST_TEXT = \"UPDATE-NEW-POST-TEXT\";\nvar SET_USER_PROFILE = \"SET_USER_PROFILE\";\nvar SET_IS_FETCHING = \"SET_IS_FETCHING\";\nvar SET_STATUS = \"SET_STATUS\";\nvar initialState = {\n  posts: [{\n    id: 1,\n    message: \"Hi, how are you?\",\n    likesCount: 12\n  }, {\n    id: 2,\n    message: \"It's my first post\",\n    likesCount: 11\n  }],\n  newPostText: \"\",\n  profile: null,\n  isFetching: false,\n  status: \"\"\n};\nvar profileReducer = function profileReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case ADD_POST:\n      {\n        var newPost = {\n          id: 5,\n          message: state.newPostText,\n          likesCount: 0\n        };\n        return _objectSpread(_objectSpread({}, state), {}, {\n          posts: [].concat(_toConsumableArray(state.posts), [newPost]),\n          newPostText: \"\"\n        });\n      }\n    case UPDATE_NEW_POST_TEXT:\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          newPostText: action.newText\n        });\n      }\n    case SET_USER_PROFILE:\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          profile: action.profile\n        });\n      }\n    case SET_IS_FETCHING:\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          isFetching: action.isFetching\n        });\n      }\n    case SET_STATUS:\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          status: action.status\n        });\n      }\n    default:\n      return state;\n  }\n};\nexport var addPost = function addPost() {\n  return {\n    type: ADD_POST\n  };\n};\nexport var updateNewPostText = function updateNewPostText(text) {\n  return {\n    type: UPDATE_NEW_POST_TEXT,\n    newText: text\n  };\n};\nexport var setUserProfile = function setUserProfile(profile) {\n  return {\n    type: SET_USER_PROFILE,\n    profile: profile\n  };\n};\nexport var setIsFetching = function setIsFetching(isFetching) {\n  return {\n    type: SET_IS_FETCHING,\n    isFetching: isFetching\n  };\n};\nexport var setStatus = function setStatus(status) {\n  return {\n    type: SET_STATUS,\n    status: status\n  };\n};\nexport var getStatus = function getStatus(userId) {\n  return function (dispatch) {\n    profileAPI.getStatus(userId).then(function (response) {\n      dispatch(setStatus(response.data));\n    });\n  };\n};\nexport var updateStatus = function updateStatus(status) {\n  return function (dispatch) {\n    profileAPI.updateStatus(status).then(function (response) {\n      if (response.data.resultCode === 0) {\n        dispatch(setStatus(status));\n      }\n    });\n  };\n};\nexport var setUser = function setUser(userId) {\n  return function (dispatch) {\n    dispatch(setIsFetching(true));\n    if (!userId) userId = 2;\n    profileAPI.setUser(userId).then(function (response) {\n      dispatch(setIsFetching(false));\n      dispatch(setUserProfile(response.data));\n    });\n  };\n};\nexport var updateUser = function updateUser(userId, prevUserId) {\n  return function (dispatch) {\n    dispatch(setIsFetching(true));\n    if (prevUserId !== userId) {\n      var _userId = 2;\n      profileAPI.setUser(_userId).then(function (response) {\n        dispatch(setIsFetching(false));\n        dispatch(setUserProfile(response.data));\n      });\n    }\n  };\n};\nexport default profileReducer;","map":{"version":3,"names":["profileAPI","ADD_POST","UPDATE_NEW_POST_TEXT","SET_USER_PROFILE","SET_IS_FETCHING","SET_STATUS","initialState","posts","id","message","likesCount","newPostText","profile","isFetching","status","profileReducer","state","arguments","length","undefined","action","type","newPost","_objectSpread","concat","_toConsumableArray","newText","addPost","updateNewPostText","text","setUserProfile","setIsFetching","setStatus","getStatus","userId","dispatch","then","response","data","updateStatus","resultCode","setUser","updateUser","prevUserId"],"sources":["/Users/jestex/Documents/React/Projects/01/my-app/src/redux/profile-reducer.js"],"sourcesContent":["import { profileAPI } from \"../api/api\";\r\n\r\nconst ADD_POST = \"ADD-POST\";\r\nconst UPDATE_NEW_POST_TEXT = \"UPDATE-NEW-POST-TEXT\";\r\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\r\nconst SET_IS_FETCHING = \"SET_IS_FETCHING\";\r\nconst SET_STATUS = \"SET_STATUS\";\r\n\r\nlet initialState = {\r\n  posts: [\r\n    { id: 1, message: \"Hi, how are you?\", likesCount: 12 },\r\n    { id: 2, message: \"It's my first post\", likesCount: 11 },\r\n  ],\r\n  newPostText: \"\",\r\n  profile: null,\r\n  isFetching: false,\r\n  status: \"\",\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_POST: {\r\n      let newPost = {\r\n        id: 5,\r\n        message: state.newPostText,\r\n        likesCount: 0,\r\n      };\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, newPost],\r\n        newPostText: \"\",\r\n      };\r\n    }\r\n    case UPDATE_NEW_POST_TEXT: {\r\n      return {\r\n        ...state,\r\n        newPostText: action.newText,\r\n      };\r\n    }\r\n    case SET_USER_PROFILE: {\r\n      return {\r\n        ...state,\r\n        profile: action.profile,\r\n      };\r\n    }\r\n    case SET_IS_FETCHING: {\r\n      return { ...state, isFetching: action.isFetching };\r\n    }\r\n    case SET_STATUS: {\r\n      return { ...state, status: action.status };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const addPost = () => ({ type: ADD_POST });\r\nexport const updateNewPostText = (text) => ({\r\n  type: UPDATE_NEW_POST_TEXT,\r\n  newText: text,\r\n});\r\nexport const setUserProfile = (profile) => ({\r\n  type: SET_USER_PROFILE,\r\n  profile,\r\n});\r\nexport const setIsFetching = (isFetching) => ({\r\n  type: SET_IS_FETCHING,\r\n  isFetching,\r\n});\r\n\r\nexport const setStatus = (status) => ({\r\n  type: SET_STATUS,\r\n  status,\r\n});\r\n\r\nexport const getStatus = (userId) => (dispatch) => {\r\n  profileAPI.getStatus(userId).then(response => {\r\n    dispatch(setStatus(response.data));\r\n  });\r\n};\r\n\r\nexport const updateStatus = (status) => (dispatch) => {\r\n  profileAPI.updateStatus(status).then(response => {\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(setStatus(status));\r\n    }\r\n  });\r\n};\r\n\r\nexport const setUser = (userId) => {\r\n  return (dispatch) => {\r\n    dispatch(setIsFetching(true));\r\n    if (!userId) userId = 2;\r\n    profileAPI.setUser(userId).then((response) => {\r\n      dispatch(setIsFetching(false));\r\n      dispatch(setUserProfile(response.data));\r\n    });\r\n  };\r\n};\r\n\r\nexport const updateUser = (userId, prevUserId) => {\r\n  return (dispatch) => {\r\n    dispatch(setIsFetching(true));\r\n    if (prevUserId !== userId) {\r\n      let userId = 2;\r\n      profileAPI.setUser(userId).then((response) => {\r\n        dispatch(setIsFetching(false));\r\n        dispatch(setUserProfile(response.data));\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport default profileReducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}