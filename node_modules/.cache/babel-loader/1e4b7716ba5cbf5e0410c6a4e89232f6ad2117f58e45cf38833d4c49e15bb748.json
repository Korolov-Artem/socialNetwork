{"ast":null,"code":"import _classCallCheck from\"/Users/jestex/Documents/React/Projects/01/my-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/jestex/Documents/React/Projects/01/my-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/jestex/Documents/React/Projects/01/my-app/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/jestex/Documents/React/Projects/01/my-app/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{connect}from\"react-redux\";import Users from\"./Users\";import React from\"react\";import{follow,setCurrentPage,unfollow,setIsFollowing,getUsers,FollowT,UnfollowT}from\"../../redux/users-reducer\";import style from\"./users.module.css\";import Loader from\"../../common/loader/loader\";import{compose}from\"redux\";import{getCurrentPage,getFollowingProgress,getIsFetching,getPageSize,getTotalUsersCount,getUsersSelector}from\"../../redux/users-selectors\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UsersContainer=/*#__PURE__*/function(_React$Component){_inherits(UsersContainer,_React$Component);var _super=_createSuper(UsersContainer);function UsersContainer(){var _this;_classCallCheck(this,UsersContainer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.onPageChange=function(pageNumber){_this.props.setCurrentPage(pageNumber);_this.props.getUsers(pageNumber,_this.props.pageSize);};return _this;}_createClass(UsersContainer,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.getUsers(this.props.currentPage,this.props.pageSize);}},{key:\"render\",value:function render(){var pageCount=Math.ceil(this.props.totalCount/this.props.pageSize);var pages=[];for(var i=1;i<=pageCount;i++){pages.push(i);}var slicedPages;var curPage=this.props.currentPage;if(curPage-3<0){slicedPages=pages.slice(0,5);}else{slicedPages=pages.slice(curPage-3,curPage+2);}return/*#__PURE__*/_jsxs(_Fragment,{children:[this.props.isFetching?/*#__PURE__*/_jsx(Loader,{className:style.loader}):null,/*#__PURE__*/_jsx(Users,{slicedPages:slicedPages,onPageChange:this.onPageChange,follow:this.props.follow,unfollow:this.props.unfollow,users:this.props.users,currentPage:this.props.currentPage,followingProgress:this.props.followingProgress,FollowT:this.props.FollowT,UnfollowT:this.props.UnfollowT})]});}}]);return UsersContainer;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{users:getUsersSelector(state),pageSize:getPageSize(state),totalCount:getTotalUsersCount(state),currentPage:getCurrentPage(state),isFetching:getIsFetching(state),followingProgress:getFollowingProgress(state)};};export default compose(connect(mapStateToProps,{follow:follow,unfollow:unfollow,setCurrentPage:setCurrentPage,setIsFollowing:setIsFollowing,getUsers:getUsers,FollowT:FollowT,UnfollowT:UnfollowT}))(UsersContainer);","map":{"version":3,"names":["connect","Users","React","follow","setCurrentPage","unfollow","setIsFollowing","getUsers","FollowT","UnfollowT","style","Loader","compose","getCurrentPage","getFollowingProgress","getIsFetching","getPageSize","getTotalUsersCount","getUsersSelector","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","UsersContainer","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","onPageChange","pageNumber","props","pageSize","_createClass","key","value","componentDidMount","currentPage","render","pageCount","Math","ceil","totalCount","pages","i","push","slicedPages","curPage","slice","children","isFetching","className","loader","users","followingProgress","Component","mapStateToProps","state"],"sources":["/Users/jestex/Documents/React/Projects/01/my-app/src/components/Users/UsersContainer.jsx"],"sourcesContent":["import { connect } from \"react-redux\";\nimport Users from \"./Users\";\nimport React from \"react\";\nimport {\n  follow,\n  setCurrentPage,\n  unfollow,\n  setIsFollowing,\n  getUsers,\n  FollowT,\n  UnfollowT\n} from \"../../redux/users-reducer\";\nimport style from \"./users.module.css\";\nimport Loader from \"../../common/loader/loader\";\nimport { compose } from \"redux\";\nimport { getCurrentPage, getFollowingProgress, getIsFetching, getPageSize, getTotalUsersCount, getUsersSelector } from \"../../redux/users-selectors\";\n\nclass UsersContainer extends React.Component {\n  componentDidMount() {\n    this.props.getUsers(this.props.currentPage, this.props.pageSize);\n  }\n\n  onPageChange = (pageNumber) => {\n    this.props.setCurrentPage(pageNumber);\n    this.props.getUsers(pageNumber, this.props.pageSize);\n  };\n\n  render() {\n    let pageCount = Math.ceil(this.props.totalCount / this.props.pageSize);\n    let pages = [];\n    for (let i = 1; i <= pageCount; i++) {\n      pages.push(i);\n    }\n\n    let slicedPages;\n    let curPage = this.props.currentPage;\n    if (curPage - 3 < 0) {\n      slicedPages = pages.slice(0, 5);\n    } else {\n      slicedPages = pages.slice(curPage - 3, curPage + 2);\n    }\n\n    return (\n      <>\n        {this.props.isFetching ? <Loader className={style.loader} /> : null}\n        <Users\n          slicedPages={slicedPages}\n          onPageChange={this.onPageChange}\n          follow={this.props.follow}\n          unfollow={this.props.unfollow}\n          users={this.props.users}\n          currentPage={this.props.currentPage}\n          followingProgress={this.props.followingProgress}\n          FollowT={this.props.FollowT}\n          UnfollowT={this.props.UnfollowT}\n\n        />\n      </>\n    );\n  }\n}\n\nlet mapStateToProps = (state) => {\n  return {\n    users: getUsersSelector(state),\n    pageSize: getPageSize(state),\n    totalCount: getTotalUsersCount(state),\n    currentPage: getCurrentPage(state),\n    isFetching: getIsFetching(state),\n    followingProgress: getFollowingProgress(state)\n  };\n};\n\nexport default compose(\n  connect(mapStateToProps, {\n    follow,\n    unfollow,\n    setCurrentPage,\n    setIsFollowing,\n    getUsers,\n    FollowT,\n    UnfollowT\n  })\n) (UsersContainer)\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}