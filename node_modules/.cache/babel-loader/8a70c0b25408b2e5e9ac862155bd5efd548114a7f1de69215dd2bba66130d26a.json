{"ast":null,"code":"import _objectSpread from \"/Users/jestex/Documents/React/Projects/01/my-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { authAPI } from \"../api/api\";\nvar SET_USER_DATA = \"SET_USER_DATA\";\nvar SET_IS_FETCHING = \"SET_IS_FETCHING\";\nvar initialState = {\n  userId: null,\n  email: null,\n  login: null,\n  isFetching: false,\n  isAuth: false\n};\nvar authReducer = function authReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case SET_USER_DATA:\n      return _objectSpread(_objectSpread(_objectSpread({}, state), action.data), {}, {\n        isAuth: true\n      });\n    case SET_IS_FETCHING:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isFetching: action.isFetching\n      });\n    default:\n      return state;\n  }\n};\nexport var setUserData = function setUserData(userId, email, login) {\n  return {\n    type: SET_USER_DATA,\n    data: {\n      userId: userId,\n      email: email,\n      login: login\n    }\n  };\n};\nexport var setIsFetching = function setIsFetching(isFetching) {\n  return {\n    type: SET_IS_FETCHING,\n    isFetching: isFetching\n  };\n};\nexport var LogedIn = function LogedIn() {\n  return function (dispatch) {\n    dispatch(setIsFetching(true));\n    authAPI.getAuth().then(function (data) {\n      dispatch(setIsFetching(false));\n      var _data$data = data.data,\n        id = _data$data.id,\n        email = _data$data.email,\n        login = _data$data.login;\n      if (data.resultCode === 0) {\n        dispatch(setUserData(id, email, login));\n      }\n    });\n  };\n};\n_c = LogedIn;\nexport var login = function login(email, password, rememberMe) {\n  return function (dispatch) {\n    au;\n    return function (dispatch) {\n      dispatch(setIsFetching(true));\n      authAPI.getAuth().then(function (data) {\n        dispatch(setIsFetching(false));\n        var _data$data2 = data.data,\n          id = _data$data2.id,\n          email = _data$data2.email,\n          login = _data$data2.login;\n        if (data.resultCode === 0) {\n          dispatch(setUserData(id, email, login));\n        }\n      });\n    };\n  };\n};\nexport default authReducer;\nvar _c;\n$RefreshReg$(_c, \"LogedIn\");","map":{"version":3,"names":["authAPI","SET_USER_DATA","SET_IS_FETCHING","initialState","userId","email","login","isFetching","isAuth","authReducer","state","arguments","length","undefined","action","type","_objectSpread","data","setUserData","setIsFetching","LogedIn","dispatch","getAuth","then","_data$data","id","resultCode","_c","password","rememberMe","au","_data$data2","$RefreshReg$"],"sources":["/Users/jestex/Documents/React/Projects/01/my-app/src/redux/auth-reducer.js"],"sourcesContent":["import { authAPI } from \"../api/api\";\n\nconst SET_USER_DATA = \"SET_USER_DATA\";\nconst SET_IS_FETCHING = \"SET_IS_FETCHING\";\n\nlet initialState = {\n  userId: null,\n  email: null,\n  login: null,\n  isFetching: false,\n  isAuth: false\n};\n\nconst authReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_USER_DATA:\n      return {\n        ...state,\n        ...action.data,\n        isAuth: true\n      };\n    case SET_IS_FETCHING:\n      return { ...state, isFetching: action.isFetching };\n    default:\n      return state;\n  }\n};\n\nexport const setUserData = (userId, email, login) => ({\n  type: SET_USER_DATA,\n  data: { userId, email, login },\n});\n\nexport const setIsFetching = (isFetching) => ({\n  type: SET_IS_FETCHING,\n  isFetching,\n});\n\n  export const LogedIn = () => {\n    return (dispatch) => {\n        dispatch(setIsFetching(true))\n        authAPI.getAuth().then((data) => {\n            dispatch(setIsFetching(false))\n            let {id, email, login} = data.data\n            if(data.resultCode === 0) {\n                dispatch(setUserData(id, email, login))\n      }})\n    };\n  };\n\n  export const login = (email, password, rememberMe) => (dispatch) => {\n    au\n    return (dispatch) => {\n        dispatch(setIsFetching(true))\n        authAPI.getAuth().then((data) => {\n            dispatch(setIsFetching(false))\n            let {id, email, login} = data.data\n            if(data.resultCode === 0) {\n                dispatch(setUserData(id, email, login))\n      }})\n    };\n  };\n\n\nexport default authReducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}