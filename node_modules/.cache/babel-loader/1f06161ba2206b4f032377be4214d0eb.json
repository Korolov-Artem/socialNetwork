{"ast":null,"code":"import _classCallCheck from \"/Users/jestex/Documents/React/Projects/01/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jestex/Documents/React/Projects/01/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jestex/Documents/React/Projects/01/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jestex/Documents/React/Projects/01/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jestex/Documents/React/Projects/01/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/jestex/Documents/React/Projects/01/my-app/src/components/Users/UsersAPI.jsx\";\nimport React from \"react\";\nimport styles from \"./users.module.css\";\nimport * as axios from \"axios\";\nimport userPhoto from \"../../assets/images/user.png\";\nvar UsersAPIComponent = /*#__PURE__*/function (_React$Component) {\n  _inherits(UsersAPIComponent, _React$Component);\n  function UsersAPIComponent() {\n    var _getPrototypeOf2;\n    var _this;\n    _classCallCheck(this, UsersAPIComponent);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(UsersAPIComponent)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.onPageChange = function (pageNumber) {\n      _this.props.setCurrentPage(pageNumber);\n      axios.get(\"https://social-network.samuraijs.com/api/1.0/users?page=\".concat(pageNumber, \"&count=\").concat(_this.props.pageSize)).then(function (response) {\n        _this.props.setUsers(response.data.items);\n      });\n    };\n    return _this;\n  }\n  _createClass(UsersAPIComponent, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n      axios.get(\"https://social-network.samuraijs.com/api/1.0/users?page=\".concat(this.props.currentPage, \"&count=\").concat(this.props.pageSize)).then(function (response) {\n        _this2.props.setUsers(response.data.items);\n        _this2.props.setTotalUsersCount(response.data.totalCount);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n      var pageCount = Math.ceil(this.props.totalCount / this.props.pageSize);\n      var pages = [];\n      for (var i = 1; i <= pageCount; i++) {\n        pages.push(i);\n      }\n      var curP = this.props.currentPage;\n      var curPF = curP - 5 < 0 ? 0 : curP - 5;\n      var curPL = curP + 5;\n      var slicedPages = pages.slice(curPF, curPL);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.pageCount,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 9\n        }\n      }, slicedPages.map(function (page) {\n        return /*#__PURE__*/React.createElement(\"button\", {\n          className: _this3.props.currentPage === page ? styles.selectedPage : styles.page,\n          onClick: function onClick(event) {\n            _this3.onPageChange(page);\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 24\n          }\n        }, page);\n      })), this.props.users.map(function (u) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: u.id,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: u.photos.small != null ? u.photos.small : userPhoto,\n          className: styles.userPhoto,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 17\n          }\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 15\n          }\n        }, u.followed ? /*#__PURE__*/React.createElement(\"button\", {\n          onClick: function onClick() {\n            _this3.props.unfollow(u.id);\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 19\n          }\n        }, \"Unfollow\") : /*#__PURE__*/React.createElement(\"button\", {\n          onClick: function onClick() {\n            _this3.props.follow(u.id);\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 19\n          }\n        }, \"Follow\"))), /*#__PURE__*/React.createElement(\"span\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 17\n          }\n        }, u.name), /*#__PURE__*/React.createElement(\"div\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 17\n          }\n        }, u.status)), /*#__PURE__*/React.createElement(\"span\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 17\n          }\n        }, \"u.location.country\"), /*#__PURE__*/React.createElement(\"div\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 17\n          }\n        }, \"u.location.city\"))));\n      }));\n    }\n  }]);\n  return UsersAPIComponent;\n}(React.Component);\nexport default UsersAPIComponent;","map":{"version":3,"names":["React","styles","axios","userPhoto","UsersAPIComponent","_React$Component","_inherits","_getPrototypeOf2","_this","_classCallCheck","_len","arguments","length","args","Array","_key","_possibleConstructorReturn","_getPrototypeOf","call","apply","concat","onPageChange","pageNumber","props","setCurrentPage","get","pageSize","then","response","setUsers","data","items","_createClass","key","value","componentDidMount","_this2","currentPage","setTotalUsersCount","totalCount","render","_this3","pageCount","Math","ceil","pages","i","push","curP","curPF","curPL","slicedPages","slice","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","map","page","selectedPage","onClick","event","users","u","id","src","photos","small","followed","unfollow","follow","name","status","Component"],"sources":["/Users/jestex/Documents/React/Projects/01/my-app/src/components/Users/UsersAPI.jsx"],"sourcesContent":["import React from \"react\";\nimport styles from \"./users.module.css\";\nimport * as axios from \"axios\";\nimport userPhoto from \"../../assets/images/user.png\";\n\nclass UsersAPIComponent extends React.Component {\n  componentDidMount() {\n    axios\n      .get(`https://social-network.samuraijs.com/api/1.0/users?page=${this.props.currentPage}&count=${this.props.pageSize}`)\n      .then((response) => {\n        this.props.setUsers(response.data.items);\n        this.props.setTotalUsersCount(response.data.totalCount);\n      });\n  }\n\n  onPageChange = (pageNumber) => {\n    this.props.setCurrentPage(pageNumber)\n    axios\n      .get(`https://social-network.samuraijs.com/api/1.0/users?page=${pageNumber}&count=${this.props.pageSize}`)\n      .then((response) => {\n        this.props.setUsers(response.data.items);\n      });\n }\n\n  render() {\n    let pageCount = Math.ceil(this.props.totalCount / this.props.pageSize)\n    let pages = []\n    for(let i = 1; i <= pageCount; i++) {\n        pages.push(i)\n    }\n\n    let curP = this.props.currentPage;\n    let curPF = ((curP - 5) < 0) ?  0  : curP - 5 ;\n    let curPL = curP + 5;\n    let slicedPages = pages.slice( curPF, curPL);\n\n    return (\n      <div>\n        <div className={styles.pageCount}>\n            {slicedPages.map(page => {\n                return <button className={this.props.currentPage === page ? styles.selectedPage : styles.page}\n                onClick={(event) => {this.onPageChange(page)}}>{page}</button>\n            })}\n        </div>\n        {this.props.users.map((u) => (\n          <div key={u.id}>\n            <span>\n              <div>\n                <img\n                  src={u.photos.small != null ? u.photos.small : userPhoto}\n                  className={styles.userPhoto}\n                />\n              </div>\n              <div>\n                {u.followed ? (\n                  <button\n                    onClick={() => {\n                      this.props.unfollow(u.id);\n                    }}\n                  >\n                    Unfollow\n                  </button>\n                ) : (\n                  <button\n                    onClick={() => {\n                      this.props.follow(u.id);\n                    }}\n                  >\n                    Follow\n                  </button>\n                )}\n              </div>\n            </span>\n            <span>\n              <span>\n                <div>{u.name}</div>\n                <div>{u.status}</div>\n              </span>\n              <span>\n                <div>{\"u.location.country\"}</div>\n                <div>{\"u.location.city\"}</div>\n              </span>\n            </span>\n          </div>\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default UsersAPIComponent;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}