"use strict";(self.webpackChunkreact_way_of_samurai=self.webpackChunkreact_way_of_samurai||[]).push([[335],{1335:function(s,t,e){e.r(t),e.d(t,{default:function(){return F}});var r=e(4942),i=e(5671),n=e(3144),o=e(136),u=e(7277),a=e(1413),p=e(2791),c="ProfileInfo_descriptionBlock__XBXuJ",l=e(5298),d=e(9439),f=e(184),h=function(s){var t=(0,p.useState)(!1),e=(0,d.Z)(t,2),r=e[0],i=e[1],n=(0,p.useState)(s.status),o=(0,d.Z)(n,2),u=o[0],a=o[1];(0,p.useEffect)((function(){a(s.status)}),[s.status]);return(0,f.jsxs)("div",{children:[!r&&(0,f.jsx)("div",{children:(0,f.jsx)("span",{onDoubleClick:function(){i(!0)},children:s.status||"-----"})}),r&&(0,f.jsx)("div",{children:(0,f.jsx)("input",{autoFocus:!0,onBlur:function(){i(!1),s.updateStatus(u)},onChange:function(s){a(s.currentTarget.value)},value:u})})]})},x=function(s){return s.profile?(0,f.jsx)("div",{children:(0,f.jsxs)("div",{className:c,children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("img",{src:s.profile.photos.large}),(0,f.jsx)(h,{updateStatus:s.updateStatus,status:s.status})]}),(0,f.jsx)("p",{children:s.profile.fullName}),(0,f.jsx)("p",{children:s.profile.aboutMe}),(0,f.jsx)("p",{children:s.profile.lookingForAJob}),(0,f.jsx)("p",{children:s.profile.lookingForAJobDescription}),(0,f.jsxs)("div",{children:[(0,f.jsx)("p",{children:s.profile.contacts.twitter}),(0,f.jsx)("p",{children:s.profile.contacts.facebook}),(0,f.jsx)("p",{children:s.profile.contacts.instagram}),(0,f.jsx)("p",{children:s.profile.contacts.email})]})]})}):(0,f.jsx)(l.Z,{})},j=e(6070),m="MyPosts_postsBlock__lB-pf",v="MyPosts_posts__GSiZ2",g="Post_item__Yu4oG",_=e(4353),k=function(s){return(0,f.jsxs)("div",{className:g,children:[(0,f.jsx)("img",{src:_}),s.message,(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{children:"like"})," ",s.likesCount]})]})},P=e(6139),S=e(704),Z=e(1557),b=e(4469),A=(0,Z.D)(200),w=(0,S.Z)({form:"profileAddNewPostForm"})((function(s){return(0,f.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,f.jsx)("div",{children:(0,f.jsx)(P.Z,{name:"newPostText",component:b.g,placeholder:"Post message",validate:[Z.C,A]})}),(0,f.jsx)("div",{children:(0,f.jsx)("button",{children:"Add post"})})]})})),C=p.memo((function(s){var t=s.posts.map((function(s){return(0,f.jsx)(k,{message:s.message,likesCount:s.likesCount})}));return(0,f.jsxs)("div",{className:m,children:[(0,f.jsx)("h3",{children:"My posts"}),(0,f.jsx)(w,{onSubmit:function(t){s.addPost(t.newPostText)}}),(0,f.jsx)("div",{className:v,children:t})]})})),y=e(2551),U=(0,y.$j)((function(s){return{posts:s.profilePage.posts,newPostText:s.profilePage.newPostText}}),(function(s){return{addPost:function(t){s((0,j.q2)(t))}}}))(C),I=function(s){return(0,f.jsxs)("div",{children:[(0,f.jsx)(x,{profile:s.profile,status:s.status,updateStatus:s.updateStatus}),(0,f.jsx)(U,{})]})},N=e(7689),B=e(2938),T=e(7781);var D=function(s){(0,o.Z)(e,s);var t=(0,u.Z)(e);function e(){return(0,i.Z)(this,e),t.apply(this,arguments)}return(0,n.Z)(e,[{key:"componentDidMount",value:function(){var s=this.props.router.params.userId;this.props.setUser(s),this.props.getStatus(s)}},{key:"componentDidUpdate",value:function(s){var t=s.router.params.userId,e=this.props.router.params.userId;!e&&this.props.isAuth&&(e=this.props.authorizedUserId),this.props.updateUser(t,e)}},{key:"render",value:function(){return(0,f.jsx)("div",{children:(0,f.jsx)(I,(0,a.Z)((0,a.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))})}}]),e}(p.Component),F=(0,T.qC)((0,y.$j)((function(s){return(0,r.Z)({profile:s.profilePage.profile,isAuth:s.auth.isAuth,status:s.profilePage.status,authorizedUserId:s.auth.userId},"isAuth",s.auth.isAuth)}),{setUserProfile:j.$l,setIsFetching:B.BB,setUser:j.av,updateUser:j.Nq,getStatus:j.lR,updateStatus:j.Nf}),(function(s){return function(t){var e=(0,N.TH)(),r=(0,N.s0)(),i=(0,N.UO)();return(0,p.useEffect)((function(){t.isAuth||r("/login")}),[t.isAuth,r]),(0,f.jsx)(s,(0,a.Z)((0,a.Z)({},t),{},{router:{location:e,navigate:r,params:i}}))}}))(D)},4353:function(s,t,e){s.exports=e.p+"static/media/user.96e310a6add3a711174d.png"}}]);
//# sourceMappingURL=335.04ed30ba.chunk.js.map